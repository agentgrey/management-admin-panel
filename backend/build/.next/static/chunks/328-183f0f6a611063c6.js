"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[328],{328:(e,t,s)=>{s.d(t,{default:()=>W});var r=s(5155),n=s(2115),i=s(8126),l=s.n(i),a=s(6223),o=s(6874),c=s.n(o),u=s(5183),d=s(514),x=s(5695),h=s(9576);function m(){(0,x.useRouter)();let[e,t]=(0,n.useState)(null),[s,i]=(0,n.useState)(),[l,a]=(0,n.useState)(!1),o=()=>t(null),{}=(0,h.A)(),[c,m]=(0,n.useState)();return(0,n.useEffect)(()=>{m(localStorage.getItem("role"))},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center  gap-6",children:[(0,r.jsx)("div",{className:"flex gap-6 items-center"}),(0,r.jsx)(d.A,{title:"",children:(0,r.jsxs)("div",{className:"flex w-fit  items-center justify-start gap-2 overflow-hidden bg-white",children:[(0,r.jsx)("div",{onClick:e=>t(e.currentTarget),className:"flex gap-2 items-center cursor-pointer"}),(0,r.jsx)(u.A,{anchorEl:e,open:!!e,onClose:o,onClick:o,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 2px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:40,height:40,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"}})]})})]})})}function j(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("header",{className:"h-16 bg-white shadow flex my-auto justify-end",children:(0,r.jsx)("div",{className:"flex h-16 items-center justify-end px-4 my-auto",children:(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsx)(a.A,{color:"primary",variant:"dot",invisible:!0,children:(0,r.jsx)(c(),{href:"/admin/users"})}),(0,r.jsx)(m,{})]})})})})}Math.random().toString().slice(2,8);var p=s(2269),g=s(5439),f=s(4146),v=s(5592),A=s(4152),b=s(158),y=s(5857),k=s(8911),w=s(837),S=s(2204),N=s(8774),M=s(3965),P=s(821),C=s(8167),E=s(2131),O=s(5881);let I=e=>({width:280,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden","&:hover":{}}),z=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)"),[e.breakpoints.up("sm")]:{width:"calc(".concat(e.spacing(9)," + 1px)")}}),D=(0,O.Ay)(E.Ay,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:t,open:s}=e;return{width:280,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...s&&{...I(t),"& .MuiDrawer-paper":I(t)},...!s&&{...z(t),"& .MuiDrawer-paper":z(t)}}}),F=(0,O.Ay)("div")(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1),...t.mixins.toolbar}});var R=s(8132),_=s(7211),T=s(1261),L=s(7027),V=s(1096),Y=s(9562),G=s(3231),J=s(8520);let X=()=>{let{user:e}=(0,h.A)(),t=null==e?void 0:e.role,s=[{key:"6",title:"Team Management",icon:(0,r.jsx)(_.A,{}),submenus:[{key:"6.2",route:"/users",title:"View Team Members",icon:(0,r.jsx)(_.A,{})}]},{key:"7",title:"Products",icon:(0,r.jsx)(L.A,{}),submenus:[{key:"7.1",route:"/products",title:"Dashboard",icon:(0,r.jsx)(R.A,{})},{key:"7.2",route:"/products/create-product",title:"Create Product",icon:(0,r.jsx)(T.A,{})}]},{key:"8",title:"Orders",icon:(0,r.jsx)(V.A,{}),submenus:[{key:"8.2",route:"/orders",title:"View Orders",icon:(0,r.jsx)(Y.A,{})}]}],n=[{key:"1",title:"Dashboard",icon:(0,r.jsx)(R.A,{}),route:"/"},{key:"2",title:"Products",icon:(0,r.jsx)(L.A,{}),submenus:[{key:"2.1",route:"/products",title:"Dashboard",icon:(0,r.jsx)(R.A,{})},{key:"2.2",route:"/products/create-product",title:"Create Product",icon:(0,r.jsx)(T.A,{})}]},{key:"3",title:"Orders",icon:(0,r.jsx)(V.A,{}),submenus:[{key:"3.1",route:"/orders",title:"View Orders",icon:(0,r.jsx)(Y.A,{})},{key:"3.2",route:"/orders/create-orders",title:"Create Orders",icon:(0,r.jsx)(G.A,{})}]}],i=[{key:"1",title:"Dashboard",icon:(0,r.jsx)(R.A,{}),route:"/"},{key:"2",title:"Orders",icon:(0,r.jsx)(V.A,{}),submenus:[{key:"2.1",route:"/orders",title:"View Orders",icon:(0,r.jsx)(Y.A,{})}]}];return t===J.z.ADMIN?s:t===J.z.MANAGER?n:t===J.z.EMPLOYEE?i:[]};var B=s(9053);let U=e=>{let{open:t,onToggle:s}=e,i=(0,x.useRouter)(),[l,a]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),u=X(),{logout:m}=(0,h.A)();(0,n.useEffect)(()=>{let e=localStorage.getItem("selectedSubMenu"),t=localStorage.getItem("selectedSubSubMenu");e&&a(e),t&&c(t)},[]);let j=e=>{let t=l===e?"":e;a(t),localStorage.setItem("selectedSubMenu",t)},E=e=>{let t=o===e?"":e;c(t),localStorage.setItem("selectedSubSubMenu",t)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(B.default,{children:(0,r.jsxs)(D,{variant:"permanent",open:t,children:[(0,r.jsxs)(F,{className:"flex flex-col items-center mt-3",children:[(0,r.jsxs)("div",{className:"flex h-16 w-full items-center justify-center gap-4",children:[(0,r.jsx)("p",{children:"Admin Panel"}),(0,r.jsx)(f.A,{onClick:s,children:t?(0,r.jsx)(N.A,{}):(0,r.jsx)(C.A,{})})]}),(0,r.jsx)("p",{className:"text-lg mr-5 font-semibold text-gray-600 text-right"})]}),(0,r.jsx)(b.A,{}),(0,r.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",mb:3,flexDirection:"column",height:"100%"},children:[(0,r.jsx)(g.A,{sx:{mt:1},children:u.map(e=>(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(d.A,{title:e.title,followCursor:!0,arrow:!0,placement:"top-end",children:(0,r.jsxs)(k.A,{onClick:()=>{if(null==e?void 0:e.route)return i.push(null==e?void 0:e.route);(null==e?void 0:e.submenus)&&j(e.key)},selected:(null==e?void 0:e.submenus)?l===(null==e?void 0:e.key):(null==i?void 0:i.pathname)===e.route,children:[(0,r.jsx)(v.A,{children:e.icon}),(0,r.jsx)(A.A,{primary:e.title}),(null==e?void 0:e.submenus)&&(0,r.jsx)("div",{className:"h-5 w-5 rounded-full bg-gray-200 p-0 flex mx-auto justify-center items-center",children:l===(null==e?void 0:e.key)?(0,r.jsx)(M.A,{fontSize:"small"}):(0,r.jsx)(P.A,{fontSize:"small"})})]})}),(null==e?void 0:e.submenus)&&(0,r.jsx)(w.A,{in:l===(null==e?void 0:e.key),timeout:"auto",unmountOnExit:!0,children:(0,r.jsx)(g.A,{component:"div",disablePadding:!0,children:null==e?void 0:e.submenus.map(e=>(0,r.jsxs)(n.Fragment,{children:[(0,r.jsxs)(k.A,{sx:{pl:4},onClick:()=>{if(null==e?void 0:e.route)return i.push(e.route);(null==e?void 0:e.subSubMenus)&&E(e.key)},selected:(null==e?void 0:e.subSubMenus)?o===e.key:(null==i?void 0:i.pathname)===e.route,children:[(0,r.jsx)(v.A,{children:e.icon}),(0,r.jsx)(A.A,{primary:e.title,sx:{whiteSpace:"break-spaces"}}),(null==e?void 0:e.subSubMenus)&&(0,r.jsx)("div",{className:"h-5 w-5 rounded-full bg-gray-200 p-0 flex mx-auto justify-center items-center",children:o===e.key?(0,r.jsx)(M.A,{fontSize:"small"}):(0,r.jsx)(P.A,{fontSize:"small"})})]}),(null==e?void 0:e.subSubMenus)&&(0,r.jsx)(w.A,{in:o===e.key,timeout:"auto",unmountOnExit:!0,children:(0,r.jsx)(g.A,{component:"div",disablePadding:!0,children:e.subSubMenus.map(e=>(0,r.jsxs)(k.A,{sx:{pl:6},onClick:()=>i.push(e.route),selected:i.pathname===e.route,children:[(0,r.jsx)(v.A,{children:e.icon}),(0,r.jsx)(A.A,{primary:e.title,sx:{whiteSpace:"break-spaces"}})]},e.key))})})]},e.key))})}),(0,r.jsx)(b.A,{className:"!w-[90%] !mx-auto"})]},e.key))}),(0,r.jsxs)(p.A,{hidden:!t,sx:{textAlign:"center"},children:[(0,r.jsx)("div",{className:"py-5",children:(0,r.jsx)(y.A,{variant:"contained",startIcon:(0,r.jsx)(S.A,{}),color:"error",className:"bg-theme-red",onClick:()=>{m()},children:"Logout"})}),(0,r.jsxs)("div",{className:"mt-2 flex gap-5 mx-auto text-center justify-center text-sm",children:[(0,r.jsx)("div",{className:"text-blue-500",children:(0,r.jsx)("a",{href:"#",target:"_blank",children:"Privacy Policy"})}),"|",(0,r.jsx)("div",{className:"text-blue-500",children:(0,r.jsx)("a",{href:"#",target:"_blank",children:"Terms Of Use"})})]}),(0,r.jsx)("div",{className:"text-blue-500 text-sm",children:(0,r.jsx)("a",{href:"#",target:"_blank",children:"Refund Policy"})})]})]})]})})})};function W(e){let{title:t="Welcome To Admin Panel",children:s=(0,r.jsx)(r.Fragment,{}),className:i="bg-[#f1f5f9]"}=e,[a,o]=(0,n.useState)(!0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(U,{open:a,onToggle:()=>o(!a)}),(0,r.jsxs)("main",{className:"min-h-screen ".concat(i),style:{marginLeft:a?"280px":"72px",width:a?"calc(100vw - 280px)":"calc(100vw - 72px)",transition:"margin-left 0.3s ease, width 0.3s ease"},children:[(0,r.jsx)(j,{}),(0,r.jsx)("div",{style:{padding:"20px"},children:s})]})]})}},8520:(e,t,s)=>{s.d(t,{z:()=>r});let r={ADMIN:"admin",MANAGER:"manager",EMPLOYEE:"employee"}},9053:(e,t,s)=>{s.d(t,{default:()=>a});var r=s(5155),n=s(9576),i=s(2115),l=s(5695);function a(e){let{children:t}=e,{user:s,loading:a}=(0,n.A)(),o=(0,l.useRouter)(),[c,u]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{a||(u(!0),s||o.push("/signIn"))},[s,a,o]),c)?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)("div",{children:"Loading..."})}},9576:(e,t,s)=>{s.d(t,{A:()=>o,AuthProvider:()=>a});var r=s(5155),n=s(2115),i=s(5695);let l=(0,n.createContext)(void 0),a=e=>{let{children:t}=e,[s,a]=(0,n.useState)(null),[o,c]=(0,n.useState)(!0),u=(0,i.useRouter)();(0,n.useEffect)(()=>{let e=localStorage.getItem("user");e&&a(JSON.parse(e)),c(!1)},[]);let d={headers:{Authorization:(null==s?void 0:s.token)?"Bearer ".concat(s.token):void 0}};return(0,r.jsx)(l.Provider,{value:{user:s,login:e=>{a(e),localStorage.setItem("user",JSON.stringify(e)),u.push("/")},logout:()=>{a(null),localStorage.removeItem("user"),u.push("/signIn")},authConfig:d,loading:o},children:t})},o=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);